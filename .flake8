[flake8]
exclude = .direnv,.venv,venv,tests/acceptance/external_studies
extend-select =
    # match black&PEP8 putting binary operators after new line
    W504
ignore =
    # whitespace before : (black disagrees)
    E203,
    # line too long (black fixes long lines, except for long strings which may benefit from being long (eg URLs))
    E501,
    # line break before binary operator (black disagrees)
    W503,
max-line-length = 88
per-file-ignores =
    scripts/create-schema.py:INP001,E402
    scripts/dbx:INP001
    scripts/dbx-cleanup.py:INP001,F821
    scripts/generate-dataset-sqlite.py:INP001,E402
    scripts/parse_coverage_output.py:INP001
    docs/snippets/*:E402
    docs/ehrql-tutorial-examples/*:INP001
